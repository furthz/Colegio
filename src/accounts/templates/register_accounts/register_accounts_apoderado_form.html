{% extends "page.html" %}
{% block titulo %}
    <h1>Registro de Usuarios
        {{ block.super }}
        <small>Módulo de Registro Usuarios</small>
    </h1>
{% endblock %}
{% block container %}

    <div class="box box-primary">
        <div class="box-header with-border">
            <h3 class="box-title">Registrar Usuarios</h3>
            <div class="box-body">
                <div class="col-md-12">
                    <div class="panel-page">
                        <div class="box-body">
                            <form id="myform" class="form-horizontal" method="post">
                                {% csrf_token %}
                                <div style="display: none;">

                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        {% csrf_token %}
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Tipo de Usuario</label>
                                            <div class="col-sm-8">
                                                <select multiple name="groups" class="form-control" required=""
                                                        id="id_groups">
                                                    {% for grupo in grupos %}
                                                        <option value="{{ grupo.id }}">{{ grupo.name }}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-md-6">
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-6">

                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Tipo de documento</label>
                                            <div class="col-sm-4">
                                                {{ form.select_documento }}
                                            </div>
                                        </div>
                                        {% if form.name.errors %}
                                            <div class="alert alert-danger">
                                                <li>El Nombre de usuario ya ha sido utilizado en otra cuenta</li>
                                            </div>
                                        {% endif %}
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">N° de documento</label>
                                            <div class="col-sm-8">
                                                {{ form.name }}
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        {% if form.email.errors %}
                                            <div class="alert alert-danger">
                                                <li> El correo electrónico ya ha sido usado en otra cuenta</li>
                                            </div>
                                        {% endif %}
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Correo Electrónico</label>
                                            <div class="col-sm-8">
                                                {{ form.email }}
                                            </div>
                                        </div>

                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        {{ form.password1.errors }}
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Crear Contraseña</label>
                                            <div class="col-sm-8">
                                                {{ form.password1 }}
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-md-6">
                                        {% if form.password2.errors %}
                                            <div class="alert alert-danger">
                                                <li>Las contraseñas introducidas no coinciden</li>
                                            </div>
                                        {% endif %}
                                        <div class="form-group">
                                            <label class="col-sm-4 control-label">Confirma Contraseña</label>
                                            <div class="col-sm-8">
                                                {{ form.password2 }}
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <div class="col-sm-offset-7 col-sm-5">

                                        <br>

                                        <button type="submit" class="btn btn-success" form="myform">
                                            <i class="fa fa-plus" aria-hidden="true"></i> Registrar Apoderado
                                        </button>

                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

{% endblock container %}


{% block scripts %}
    <script type="text/javascript">
        window.onload = dni;
        function dni() {
            if (document.getElementById('select_documento').value == "1") {
                document.getElementById('id_name').value = '';
                document.getElementById('id_name').type = 'number';
            } else {
                document.getElementById('id_name').value = '';
                document.getElementById('id_name').type = 'text';
            }
        }
    </script>
{% endblock scripts %}
